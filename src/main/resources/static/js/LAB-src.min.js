/*! LAB.js (LABjs :: Loading And Blocking JavaScript)
    v2.0.3 (c) Kyle Simpson
    MIT License
*/
(function(b){function a(x,B){var n=b.$os={},z=b.$browser={},d=x.match(/Web[kK]it[\/]{0,1}([\d.]+)/),A=x.match(/(Android);?[\s\/]+([\d.]+)?/),C=!!x.match(/\(Macintosh\; Intel /),r=x.match(/(iPad).*OS\s([\d_]+)/),l=x.match(/(iPod)(.*OS\s([\d_]+))?/),h=!r&&x.match(/(iPhone\sOS)\s([\d_]+)/),c=x.match(/(webOS|hpwOS)[\s\/]([\d.]+)/),k=/Win\d{2}|Windows/.test(B),f=x.match(/Windows Phone ([\d.]+)/),t=c&&x.match(/TouchPad/),j=x.match(/Kindle\/([\d.]+)/),w=x.match(/Silk\/([\d._]+)/),s=x.match(/(BlackBerry).*Version\/([\d.]+)/),p=x.match(/(BB10).*Version\/([\d.]+)/),e=x.match(/(RIM\sTablet\sOS)\s([\d.]+)/),q=x.match(/PlayBook/),y=x.match(/Opera/),v=x.match(/Chrome\/([\d.]+)/)||x.match(/CriOS\/([\d.]+)/),m=x.match(/Firefox\/([\d.]+)/),i=x.match(/\((?:Mobile|Tablet); rv:([\d.]+)\).*Firefox\/[\d.]+/),u=x.match(/MSIE\s([\d.]+)/)||x.match(/Trident\/[\d](?=[^\?]+).*rv:([0-9.].)/),g=!v&&x.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/),o=g||x.match(/Version\/([\d.]+)([^S](Safari)|[^M]*(Mobile)[^S]*(Safari))/);if(z.webkit=!!d){z.version=d[1]}if(A){n.android=true,n.version=A[2]}if(h&&!l){n.ios=n.iphone=true,n.version=h[2].replace(/_/g,".")}if(r){n.ios=n.ipad=true,n.version=r[2].replace(/_/g,".")}if(l){n.ios=n.ipod=true,n.version=l[3]?l[3].replace(/_/g,"."):null}if(f){n.wp=true,n.version=f[1]}if(c){n.webos=true,n.version=c[2]}if(t){n.touchpad=true}if(s){n.blackberry=true,n.version=s[2]}if(p){n.bb10=true,n.version=p[2]}if(e){n.rimtabletos=true,n.version=e[2]}if(q){z.playbook=true}if(j){n.kindle=true,n.version=j[1]}if(w){z.silk=true,z.version=w[1]}if(!w&&n.android&&x.match(/Kindle Fire/)){z.silk=true}if(y){z.opera=true}if(v){z.chrome=true,z.version=v[1]}if(m){z.firefox=true,z.version=m[1]}if(i){n.firefoxos=true,n.version=i[1]}if(u){z.ie=true,z.version=u[1]}if(o&&(C||n.ios||k)){z.safari=true;if(o.length>1){z.version=o[1]}}if(g){z.webview=true}n.tablet=!!(r||q||(A&&!x.match(/Mobile/))||(m&&x.match(/Tablet/))||(u&&!x.match(/Phone/)&&x.match(/Touch/)));n.phone=!!(!n.tablet&&!n.ipod&&(A||h||c||s||p||(v&&x.match(/Android/))||(v&&x.match(/CriOS\/([\d.]+)/))||(m&&x.match(/Mobile/))||(u&&x.match(/Touch/))))}a.call(b,navigator.userAgent,navigator.platform)})(window);(function(r){var v=r.$LAB,k="UseLocalXHR",q="AlwaysPreserveOrder",n="AllowDuplicates",m="CacheBust",l="Debug",e="BasePath",s=/^[^?#]*\//.exec(location.href)[0],C=/^\w+\:\/\/\/?[^\/]+/.exec(s)[0],f=document.head||document.getElementsByTagName("head"),i=(r.opera&&Object.prototype.toString.call(r.opera)=="[object Opera]")||("MozAppearance" in document.documentElement.style),c=function(){},o=c,A=document.createElement("script"),a=typeof A.preload=="boolean",x=a||(A.readyState&&A.readyState=="uninitialized"),y=!x&&A.async===true,z=!x&&!y&&!i;
/*!START_DEBUG*/
;if(r.console&&r.console.log){if(!r.console.error){r.console.error=r.console.log}c=function(D){r.console.log(D)};o=function(E,D){r.console.error(E,D)}}
/*!END_DEBUG*/
;function u(D){return Object.prototype.toString.call(D)=="[object Function]"}function B(D){return Object.prototype.toString.call(D)=="[object Array]"}function g(F,E){var D=/^\w+\:\/\//;if(/^\/\/\/?/.test(F)){F=location.protocol+F}else{if(!D.test(F)&&F.charAt(0)!="/"){F=(E||"")+F}}return D.test(F)?F:((F.charAt(0)=="/"?C:s)+F)}function j(E,F){for(var D in E){if(E.hasOwnProperty(D)){F[D]=E[D]}}return F}function b(E){var F=false;for(var D=0;D<E.scripts.length;D++){if(E.scripts[D].ready&&E.scripts[D].exec_trigger){F=true;E.scripts[D].exec_trigger();E.scripts[D].exec_trigger=null}}return F}function d(F,E,D,G){F.onload=F.onreadystatechange=function(){if((F.readyState&&F.readyState!="complete"&&F.readyState!="loaded")||E[D]){return}F.onload=F.onreadystatechange=null;G()}}function w(D){D.ready=D.finished=true;for(var E=0;E<D.finished_listeners.length;E++){D.finished_listeners[E]()}D.ready_listeners=[];D.finished_listeners=[]}function t(F,G,E,H,D){setTimeout(function(){var I,K=G.real_src,J;if("item" in f){if(!f[0]){setTimeout(arguments.callee,25);return}f=f[0]}I=document.createElement("script");if(G.type){I.type=G.type}if(G.charset){I.charset=G.charset}if(D){if(x){
/*!START_DEBUG*/
;if(F[l]){c("start script preload: "+K)}
/*!END_DEBUG*/
;E.elem=I;if(a){I.preload=true;I.onpreload=H}else{I.onreadystatechange=function(){if(I.readyState=="loaded"){H()}}}I.src=K}else{if(D&&K.indexOf(C)==0&&F[k]){J=new XMLHttpRequest();
/*!START_DEBUG*/
;if(F[l]){c("start script preload (xhr): "+K)}
/*!END_DEBUG*/
;J.onreadystatechange=function(){if(J.readyState==4){J.onreadystatechange=function(){};E.text=J.responseText+"\n//@ sourceURL="+K;H()}};J.open("GET",K);J.send()}else{
/*!START_DEBUG*/
;if(F[l]){c("start script preload (cache): "+K)}
/*!END_DEBUG*/
;I.type="text/cache-script";d(I,E,"ready",function(){f.removeChild(I);H()});I.src=K;f.appendChild(I)}}}else{if(y){
/*!START_DEBUG*/
;if(F[l]){c("start script load (ordered async): "+K)}
/*!END_DEBUG*/
;I.async=false;d(I,E,"finished",H);I.src=K;f.appendChild(I)}else{
/*!START_DEBUG*/
;if(F[l]){c("start script load: "+K)}
/*!END_DEBUG*/
;d(I,E,"finished",H);I.src=K;f.appendChild(I)}}},0)}function h(F,G,E,H,D){setTimeout(function(){var K,J=G.real_src;if("item" in f){if(!f[0]){setTimeout(arguments.callee,25);return}f=f[0]}var O=function(){K.onload=K.onerror=null;H()};K=document.createElement("link");K.rel="stylesheet";K.type="text/css";K.href=J;if(G.charset){K.setAttribute("charset",G.charset)}K.onerror=function(){K.onload=K.onerror=null;
/*!START_DEBUG*/
;if(F[l]){c("load css file error: "+J)}
/*!END_DEBUG*/
};var M=null;try{M=parseFloat($browser.version)}catch(L){}if($browser.ie||($browser.firefox&&M>8.9)||$browser.opera||($browser.chrome&&M>19)||($browser.safari&&M>5.9)){K.onload=function(){O()};f.appendChild(K)}else{if(($browser.chrome&&M>9)||($browser.safari&&M>4.9)||$browser.firefox){f.appendChild(K);var I=document.createElement("img");I.onerror=function(){I.onerror=null;I=null;O()};I.src=J}else{f.appendChild(K);K.pollCount=0;var N=function(){K.pollCount++;if(K.sheet&&K.sheet.cssRules){O()}else{if(K.pollCount<100){setTimeout(N,100)}}};N()}}},0)}function p(){var F={},K=x||z,D=[],E={},H;F[k]=true;F[q]=false;F[n]=false;F[m]=false;
/*!START_DEBUG*/
;F[l]=false;
/*!END_DEBUG*/
;F[e]="";function J(N,P,M){var L;function O(){if(L!=null){L=null;w(M)}}if(E[P.src].finished){return}if(!N[n]){E[P.src].finished=true}L=M.elem||document.createElement("script");if(P.type){L.type=P.type}if(P.charset){L.charset=P.charset}d(L,M,"finished",O);if(M.elem){M.elem=null}else{if(M.text){L.onload=L.onreadystatechange=null;L.text=M.text}else{L.src=P.real_src}}f.appendChild(L);if(M.text){O()}}function G(N,R,Q,L){var M,P,O=function(){R.ready_cb(R,function(){J(N,R,M)})},S=function(){R.finished_cb(R,Q)};R.src=g(R.src,N[e]);R.real_src=R.src+(N[m]?((/\?.*$/.test(R.src)?"&_":"?_")+~~(Math.random()*1000000000)+"="):"");if(!E[R.src]){E[R.src]={items:[],finished:false}}P=E[R.src].items;if(N[n]||P.length==0){M=P[P.length]={ready:false,finished:false,ready_listeners:[O],finished_listeners:[S]};if(R.type==="css"){h(N,R,M,function(){w(M)},L)}else{t(N,R,M,((L)?function(){M.ready=true;for(var T=0;T<M.ready_listeners.length;T++){M.ready_listeners[T]()}M.ready_listeners=[]}:function(){w(M)}),L)}}else{M=P[0];if(M.finished){S()}else{M.finished_listeners.push(S)}}}function I(){var O,S=j(F,{}),L=[],N=0,P=false,R;function U(W,V){
/*!START_DEBUG*/
;if(S[l]){c("script preload finished: "+W.real_src)}
/*!END_DEBUG*/
;W.ready=true;W.exec_trigger=V;M()}function T(X,W){
/*!START_DEBUG*/
;if(S[l]){c("script execution finished: "+X.real_src)}
/*!END_DEBUG*/
;X.ready=X.finished=true;X.exec_trigger=null;for(var V=0;V<W.scripts.length;V++){if(!W.scripts[V].finished){return}}W.finished=true;M()}function M(){while(N<L.length){if(u(L[N])){
/*!START_DEBUG*/
;if(S[l]){c("$LAB.wait() executing: "+L[N])}
/*!END_DEBUG*/
;try{L[N++]()}catch(V){o("$LAB.wait() error caught: ",V)}continue}else{if(!L[N].finished){if(b(L[N])){continue}break}}N++}if(N==L.length){P=false;R=false}}function Q(){if(!R||!R.scripts){L.push(R={scripts:[],finished:true})}}O={script:function(){for(var V=0;V<arguments.length;V++){(function(Z,X){var Y;if(!B(Z)){X=[Z]}for(var W=0;W<X.length;W++){Q();Z=X[W];if(u(Z)){Z=Z()}if(!Z){continue}if(B(Z)){Y=[].slice.call(Z);Y.unshift(W,1);[].splice.apply(X,Y);W--;continue}if(typeof Z=="string"){Z={src:Z}}Z=j(Z,{ready:false,ready_cb:U,finished:false,finished_cb:T});R.finished=false;R.scripts.push(Z);G(S,Z,R,(K&&P));P=true;if(S[q]){O.wait()}}})(arguments[V],arguments[V])}return O},wait:function(){if(arguments.length>0){for(var V=0;V<arguments.length;V++){L.push(arguments[V])}R=L[L.length-1]}else{R=false}M();return O}};return{script:O.script,wait:O.wait,setOptions:function(V){j(V,S);return O}}}H={setGlobalDefaults:function(L){j(L,F);
/*!START_DEBUG*/
;if(F[l]){c("browser info: "+JSON.stringify($browser))}
/*!END_DEBUG*/
;return H},setOptions:function(){return I().setOptions.apply(null,arguments)},script:function(){return I().script.apply(null,arguments)},wait:function(){return I().wait.apply(null,arguments)},queueScript:function(){D[D.length]={type:"script",args:[].slice.call(arguments)};return H},queueWait:function(){D[D.length]={type:"wait",args:[].slice.call(arguments)};return H},runQueue:function(){var N=H,L=D.length,M=L,O;for(;--M>=0;){O=D.shift();N=N[O.type].apply(null,O.args)}return N},noConflict:function(){r.$LAB=v;return H},sandbox:function(){return p()},text:function(N){if(typeof N=="string"){N={src:N}}var M=g(N.src,F[e]);M=M+(F[m]?((/\?.*$/.test(N.src)?"&_":"?_")+~~(Math.random()*1000000000)+"="):"");var L=new XMLHttpRequest();
/*!START_DEBUG*/
;if(F[l]){c("start text load (xhr): "+M)}
/*!END_DEBUG*/
;L.open("GET",M,N.callback!=null);if(N.callback!=null){L.onreadystatechange=function(){if(L.readyState!=4){return}N.callback(L.responseText)}}L.send();return N.callback==null?L.responseText:null}};return H}r.$LAB=p();(function(F,D,E){if(document.readyState==null&&document[F]){document.readyState="loading";document[F](D,E=function(){document.removeEventListener(D,E,false);document.readyState="complete"},false)}})("addEventListener","DOMContentLoaded")})(this);